<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Flights</title>
    <style>
        td {
            width: 200px;
        }

        th {
            text-align: left;
        }

        table, th, td {
            border-collapse: collapse;
            border: 1px solid black;
        }
    </style>
</head>

<h1>All Flights</h1>

<p th:text="'Flights FROM: ' + ${routes[0].departureAirport.location} + ' TO: ' + ${routes[0].arrivalAirport.location}"></p>

<th:block th:each="r : ${routes}">
    <p th:text="'Number of flights: ' + ${#lists.size(r.flights)}"></p>
    <p th:text="'Total Price: ' + ${r.totalPrice} + '$'"></p>
    <table>
        <thead>
        <tr>
            <th>#</th>
            <th>Dep. Airport</th>
            <th>Dep. Date</th>
            <th>Dep. Time</th>
            <th>Arr. Airport</th>
            <th>Arr. Date</th>
            <th>Arr. Time</th>
            <th>Price</th>
        </tr>

        <th:block th:each="f, i : ${r.flights}">
            <tr>
                <td th:text="${i.index + 1}"></td>
                <td style="color:#0000ff" th:text="${f.departureLocation.location} + '(' + ${f.departureLocation.name} +')'"></td>
                <td th:text="${f.departureDate}"></td>
                <td th:text="${f.departureTime}"></td>
                <td style="color:#0000ff" th:text="${f.arrivalLocation.location} + '(' + ${f.arrivalLocation.name} + ')'"></td>
                <td th:text="${f.arrivalDate}"></td>
                <td th:text="${f.arrivalTime}"></td>
                <td style="color:#228B22; font-weight:bold" th:text="${f.price}"></td>
            </tr>
        </th:block>

        </thead>
        <tbody>

        </tbody>
    </table>

    <br />
    <form action="/flight/buy">
        <input type="submit" value="Book flight"/>
    </form>
    <hr />
</th:block>


</html>